<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Simple Mobile Demo</title>
  <style>
    body {
      margin:0; background:#000; color:#fff; font-family:sans-serif;
      display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh;
    }
    canvas {
      background: #222;
      border: 2px solid #555;
      display: block;
      margin-bottom: 20px;
      touch-action: none;
    }
    .controls {
      display: flex; gap: 10px;
    }
    button {
      width: 60px; height: 60px;
      font-size: 24px;
      border-radius: 10px;
      border: none;
      background: #444;
      color: white;
      user-select: none;
    }
    button:active {
      background: #0a84ff;
    }
  </style>
</head>
<body>

<canvas id="game" width="300" height="200"></canvas>

<div class="controls">
  <button id="left">◀</button>
  <button id="up">▲</button>
  <button id="down">▼</button>
  <button id="right">▶</button>
</div>

<script>
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');

  let x = canvas.width / 2;
  let y = canvas.height / 2;
  const speed = 4;

  let keys = { left: false, up: false, right: false, down: false };

  // Buttons control
  ['left', 'up', 'down', 'right'].forEach(dir => {
    const btn = document.getElementById(dir);
    btn.addEventListener('touchstart', e => {
      e.preventDefault();
      keys[dir] = true;
    });
    btn.addEventListener('touchend', e => {
      e.preventDefault();
      keys[dir] = false;
    });
  });

  // Also support keyboard arrows if testing on PC
  window.addEventListener('keydown', e => {
    if (e.key === 'ArrowLeft') keys.left = true;
    if (e.key === 'ArrowUp') keys.up = true;
    if (e.key === 'ArrowRight') keys.right = true;
    if (e.key === 'ArrowDown') keys.down = true;
  });
  window.addEventListener('keyup', e => {
    if (e.key === 'ArrowLeft') keys.left = false;
    if (e.key === 'ArrowUp') keys.up = false;
    if (e.key === 'ArrowRight') keys.right = false;
    if (e.key === 'ArrowDown') keys.down = false;
  });

  function gameLoop() {
    if (keys.left) x -= speed;
    if (keys.right) x += speed;
    if (keys.up) y -= speed;
    if (keys.down) y += speed;

    // Clamp inside canvas
    x = Math.max(10, Math.min(canvas.width - 10, x));
    y = Math.max(10, Math.min(canvas.height - 10, y));

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw player square
    ctx.fillStyle = '#0af';
    ctx.fillRect(x - 10, y - 10, 20, 20);

    requestAnimationFrame(gameLoop);
  }

  gameLoop();
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
<title>Molez Cave • Grapple + Bots (Mobile Safe)</title>
<style>
  html,body{margin:0;padding:0;background:#000;overflow:hidden;touch-action:none;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
  #game{display:block;background:linear-gradient(#0b0b12,#0e0e18)}
  .ui{position:fixed;inset:0;pointer-events:none}
  .pad,.btn{pointer-events:auto;user-select:none}
  .pad{position:absolute;left:12px;bottom:12px;width:150px;height:150px;background:rgba(255,255,255,.08);border-radius:16px}
  .pad button{position:absolute;width:48px;height:48px;border:0;border-radius:10px;background:rgba(255,255,255,.22);color:#fff;font-size:22px}
  #left {left:6px; top:51px}
  #right{right:6px;top:51px}
  #up   {left:51px;top:6px}
  #down {left:51px;bottom:6px}
  .btns{position:absolute;right:12px;bottom:12px;display:flex;flex-direction:column;gap:12px}
  .btn{width:84px;height:84px;border-radius:50%;border:0;background:rgba(255,255,255,.18);color:#fff;font-weight:700}
  .btn.fire{background:linear-gradient(180deg,#ffe066 0%,#ff7b00 100%)}
  .btn.grapple{background:linear-gradient(180deg,#a8ebff 0%,#0aa1ff 100%)}
  .btn.jump{background:linear-gradient(180deg,#a8ffb8 0%,#11a44c 100%)}
  .btn:active,.pad button:active{filter:brightness(1.15)}
  #hud{position:fixed;left:10px;top:10px;font:12px/1.2 monospace;color:#dff;background:rgba(0,0,0,.4);padding:6px 8px;border-radius:8px;z-index:5}
  #err{position:fixed;left:50%;bottom:10px;transform:translateX(-50%);max-width:90vw;background:#300;color:#f88;font:12px/1.3 monospace;padding:8px 10px;border-radius:8px;display:none;white-space:pre-wrap;z-index:6}
  #banner{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);color:#fff;background:rgba(0,0,0,.6);padding:14px 18px;border-radius:10px;font:16px/1.3 system-ui,Segoe UI,Roboto,Arial,sans-serif;z-index:7;display:none}
</style>
</head>
<body>
<canvas id="game"></canvas>

<div class="ui">
  <div class="pad" id="dpad">
    <button id="left">◀</button>
    <button id="right">▶</button>
    <button id="up">▲</button>
    <button id="down">▼</button>
  </div>
  <div class="btns">
    <button class="btn fire" id="fire">FIRE</button>
    <button class="btn grapple" id="grapple">HOOK</button>
    <button class="btn jump" id="jump">JUMP<
                                             
